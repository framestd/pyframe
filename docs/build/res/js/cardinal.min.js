!function(X,Y,b){"use-strict";function i(){}function C(t,n,s,a){t=t||-1,s=s||-1,n=n||-1,a=a||-1,this.coordsX={x1:t,x2:s},this.coordsY={y1:n,y2:a}}var a,c,N="opacity",B="left",G="right",O="ease",Q="transition",V="menu",_="back",H="forth",$="px";function o(){return!(window.jQuery instanceof Object)}c=a=!1,setInterval(function t(){var n,s;o()&&!a&&(n="jQuery not installed",console.error(n),a=!0),o()||c||(s="jQuery found!",console.info(s),clearInterval(t),c=!0)},600),C.prototype.getWidth=function(){return Math.abs(this.coordsX.x2-this.coordsX.x1)},C.prototype.getHeight=function(){return Math.abs(this.coordsY.y2-this.coordsY.y1)},C.prototype.wGTh=function(){return this.getWidth()>this.getHeight()},C.prototype.hGTw=function(){return!this.wGTh()},i.fn=i.prototype={constructor:i,deviceWidth:(Y.screen.availWidth+Y.innerWidth)/2,drawable:{allowBackdrop:!0,nextaction:H},hash:{allowBackdrop:!0},listen:{hashchange:"hashchange",touchstart:"touchstart",touchmove:"touchmove",touchend:"touchend",click:"click",scroll:"scroll"},defaultConfig:{type:"navigation",transition:500,event:"click",direction:"left",backdrop:!0,backdropClass:"backdrop",dataAccessAttribute:"data-target"},init:function(t,n){var s,a,i,c,o,e,r,h=this;h.xAxis=0,h.options=n,o=this.defaultConfig,n&&"object"==typeof n&&(o=X.extend(o,n)),i=o.backdropClass,i=/^\./.test(i)?i:"."+i,h.backdrop=X(i),c=o.dataAccessAttribute;var d,l,p=(s=X(t)).attr(c),u=/^(?:\#|\.)/.test(p),f=/^[\.]/.test(p);d=X(p=u?p:"#"+p),l="."+(2<=(l=(l=f?p:d.attr("class")).split(/\s+/)).length?l[0]+"."+l[1]:l),d=f?d:X(l),e=d.attr("data-hash-nav-max-width")+"px",r=d.attr("data-nav-drawer-max-width")+"px",window.matchMedia("(max-width:"+r+")").matches&&this.drawer(d,o.direction,o.transition/1e3),a="object"==typeof o&&"event"in o?o.event:"click",a+="."+o.type,s.on(a,function(t){t.preventDefault(),h.handle(d,o)}),o.backdrop&&this.backdrop.on(a,function(){!function(t,n,s,a){Y.history.back();var i="-"+n.width()+"px";n.css(a,i),X(t).fadeOut(s)}(this,d,o.transition,o.direction)}),X(Y).on(h.listen.hashchange,function(){Y.matchMedia("(max-width:"+e+")").matches&&h.hashNav(s,d,o.transition,o.direction,o.backdrop)}),X(b).ready(function(){Y.matchMedia("(max-width:"+e+")").matches&&h.hashNav(s,d,o.transition,o.direction,o.backdrop)})},handle:function(t,n){var s,a,i,c,o="object"==typeof n,e=o&&"transition"in n?n.transition:500,r=o&&"direction"in n?n.direction:B;s=r+" "+O+" "+e/1e3+"s",a=(a=t.css(r)).replace(/[^\d]+$/,""),a=/\.(?=\d)/.test(a)?Math.floor(parseFloat(a)):parseInt(a),i=Math.floor(t.width()),a=="-"+(this.xAxis=i)?(r==B?t.css({left:"0px",transition:s}):r==G?t.css({right:"0px",transition:s}):t.show(e),n.backdrop&&this.backdrop.css(N,1).fadeIn(e),Y.location.hash=V,this.drawable.nextaction=_):(c="-"+i.toString()+"px",r==B?t.css({left:c,transition:s}):r==G?t.css({right:c,transition:s}):t.hide(e),n.backdrop&&this.backdrop.fadeOut(e),Y.history.back(),this.drawable.nextaction=H)},hashNav:function(t,n,s,a,i){var c=Y.location.hash,o=t.attr("href"),e="-"+n.width()+$,r=a+" "+O+" "+s/1e3+"s";c==o?"0px"!=n.css(a)&&(n.css(a,"0px").css(Q,r),i&&this.backdrop.fadeIn(s),this.drawable.nextaction=_):(n.css(a,e).css(Q,r),this.drawable.nextaction=H,i&&this.backdrop.fadeOut(s))},drawer:function(h,d,t){var l,p,u,s=d+" "+O+" "+t+"s",f=X("body"),b="overflow",n=X(document),w=this,v=this.drawable,k=h.width(),g=25,x=this.deviceWidth-g,y=this.deviceWidth,m=-1,W=m,A=m,T=m,M=m,j=!1,a=1.5,S="0px",I="-"+k.toString()+"px";n.on(w.listen.touchstart,function(t){!function(t){t.stopPropagation(),m=t.changedTouches[0].pageX||t.changedTouches[0].clientX,W=m,A=t.changedTouches[0].pageY||t.changedTouches[0].clientY,l=h.css(d);var n="-"+(k-(y-m)).toString()+$,s="-"+(k-m).toString()+$;y=w.deviceWidth,d==B&&!(m<0)&&m<=g&&l!=S&&(h.css(d,s).css(Q,"none"),f.css(b,"hidden"));d==G&&x<=m&&!(y<m)&&l!=S&&(h.css(d,n).css(Q,"none"),f.css(b,"hidden"))}(t)}),n.on(w.listen.touchmove,function(t){!function(t){p=t.changedTouches[0].pageX||t.changedTouches[0].clientX,T=p,M=t.changedTouches[0].pageY||t.changedTouches[0].clientY;var n=k<m?k:m;l=h.css(d);var s="-"+(k-p).toString()+$,a="-"+(k-(y-p).toString())+$,i="-"+(n-p).toString()+$,c="-"+(p-n).toString()+$,o={opacity:p/k,display:"block"},e={opacity:(y-p)/k,display:"block"},r=new C(W,A,T,M).wGTh();!j&&(u=r),j=!0,!(m<0)&&m<=g&&d==B&&l!=S&&v.nextaction===H&&r&&u&&(h.css(d,s),w.backdrop.css(o));k<p||v.nextaction!==_||d!=B||l==I||!r||!u||(h.css(d,i).css(Q,"none"),w.backdrop.css(o),f.css(b,"hidden"));!(m<0)&&x<=m&&d==G&&l!=S&&r&&u&&(h.css(d,a),w.backdrop.css(e));p<y-k||v.nextaction!=_||d!=G||l==I||!r||!u||(h.css(d,c).css(Q,"none"),w.backdrop.css(e),f.css(b,"hidden"))}(t)}),n.on(w.listen.touchend,function(t){!function(t){var n=h.css(d).replace(/[^\d]+$/,"");n=Math.abs(parseInt(n)),u=j=!(a=1.5),d==B&&(n<=k/a&&m<=g?(w.backdrop.css(N,1),location.hash=V,w.drawable.nextaction=_,f.css(b,"hidden")):(h.css(d,I).css(Q,s),w.backdrop.hide(),f.css(b,"initial")),g<m&&l!=I&&(a+=1,n>Math.floor(k/a)?(w.drawable.nextaction=H,w.backdrop.css(N,"0"),Y.history.back(),f.css(b,"initial")):(h.css(d,S),w.backdrop.show(10),f.css(b,"hidden"))));d==G&&(n<=k/a&&x<=m?(w.backdrop.css(N,1),location.hash=V,w.drawable.nextaction=_,f.css(b,hidden)):(h.css(d,I).css(Q,s),w.backdrop.hide(),f.css(b,"initial")),w.drawable.nextaction==_&&(k/(a+=1)<=n?(w.drawable.nextaction=H,w.backdrop.css(N,0),Y.history.back(),f.css(b,"initial")):(h.css(d,S),w.backdrop.show(10),f.css(b,"hidden"))))}()})}},setInterval(function(){i.fn.deviceWidth=Y.screen.availWidth},1e3);var t=X.fn.nav;X.fn.nav=function(s,a){if("init"===s)return this.each(function(){var t=X(this),n=t.data("WAB_NAV");n||t.data("WAB_NAV",n=new i),console.log(t.data("WAB_NAV")),n[s](this,a)})},X.fn.nav.Constructor=i,X.fn.noConflict=function(){return X.fn.nav=t,this}}(window.jQuery,window,document);